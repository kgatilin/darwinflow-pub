# Project Architecture Index

**Generated by go-arch-lint on 2025-10-23**

*Quick architecture reference. Use package-specific Details commands for comprehensive information.*

## Quick Reference

- **Module**: (detected from go.mod)
- **Status**: ✓ 0 violations
- **Packages**: 15
- **Files**: 110

## Architecture Summary

## Architectural Rules

**Layer Dependencies:**


**Strict Mode**: Only required directories are allowed

## Dependency Graph

Package-level dependencies (local dependencies only):

- **cmd/dw** → internal/app, internal/app/tui, internal/infra, pkg/plugins/claude_code, pkg/plugins/task_manager
- **internal/app** → internal/domain, pkg/pluginsdk
- **internal/app/tui** → internal/app, internal/domain, pkg/pluginsdk
- **internal/domain** → pkg/pluginsdk
- **internal/infra** → internal/domain, pkg/pluginsdk
- **pkg/plugins/claude_code** → pkg/pluginsdk
- **pkg/plugins/task_manager** → pkg/pluginsdk
- **pkg/pluginsdk** → *(no local dependencies)*

## Package Directory

### cmd (Application Entry Points)

- **main** (`cmd/dw`)
  - Files: 10 (analyze.go: 128, bootstrap.go: 157, config.go: 114, init.go: 122, logs.go: 168, main.go: 286, plugin.go: 193, plugin_registration.go: 205, refresh.go: 52, ui.go: 87) | Exports: 7
  - Key exports: AppServices, InitializeApp, LogsOptions
  - **Details**: `go-arch-lint -format=package cmd/dw`


### pkg (Public APIs)

- **claude_code** (`pkg/plugins/claude_code`)
  - Files: 10 (analysis.go: 57, analysis_repository.go: 28, commands.go: 822, event_types.go: 32, hook_input_parser.go: 137, hook_manager.go: 306, interfaces.go: 101, payloads.go: 45, plugin.go: 232, session_entity.go: 173) | Exports: 109
  - Key exports: SessionAnalysis, NewSessionAnalysis, NewSessionAnalysisWithType
  - **Details**: `go-arch-lint -format=package pkg/plugins/claude_code`

- **task_manager** (`pkg/plugins/task_manager`)
  - Files: 5 (commands.go: 388, events.go: 16, plugin.go: 311, task_entity.go: 104, watcher.go: 321) | Exports: 55
  - Key exports: InitCommand, GetName, GetDescription
  - **Details**: `go-arch-lint -format=package pkg/plugins/task_manager`

- **pluginsdk** (`pkg/pluginsdk`)
  - Files: 10 (capability.go: 117, command.go: 34, entity.go: 146, errors.go: 14, event.go: 30, event_migration.go: 1, eventbus.go: 100, plugin.go: 82, repository.go: 63, rpc.go: 238) | Exports: 62
  - Key exports: IEntityProvider, IEntityUpdater, ICommandProvider
  - **Details**: `go-arch-lint -format=package pkg/pluginsdk`


### internal (Isolated Primitives)

- **app** (`internal/app`)
  - Files: 13 (analysis.go: 583, analysis_prompt.go: 60, analyze_cmd.go: 267, command_registry.go: 213, config_handler.go: 63, event_dispatcher.go: 216, logger.go: 114, logs.go: 553, logs_cmd.go: 111, plugin_context.go: 159, plugin_registry.go: 292, refresh_cmd.go: 85, setup.go: 53) | Exports: 104
  - Key exports: NoOpLogger, Debug, Info
  - **Details**: `go-arch-lint -format=package internal/app`

- **tui** (`internal/app/tui`)
  - Files: 6 (analysisviewer.go: 158, app.go: 557, logviewer.go: 391, sessiondetail.go: 255, sessionlist.go: 183, types.go: 64) | Exports: 57
  - Key exports: AnalysisViewerModel, NewAnalysisViewerModel, Init
  - **Details**: `go-arch-lint -format=package internal/app/tui`

- **domain** (`internal/domain`)
  - Files: 6 (analysis.go: 58, config.go: 258, event.go: 42, plugin.go: 20, repository.go: 66, trigger.go: 35) | Exports: 42
  - Key exports: SessionAnalysis, NewSessionAnalysis, NewSessionAnalysisWithType
  - **Details**: `go-arch-lint -format=package internal/domain`

- **infra** (`internal/infra`)
  - Files: 10 (config.go: 190, context.go: 138, eventbus.go: 196, logger.go: 129, plugin_loader.go: 205, rpc_client.go: 396, sqlite_eventbus_repository.go: 244, sqlite_repository.go: 650, subprocess_plugin.go: 351, transcript.go: 143) | Exports: 88
  - Key exports: DefaultConfigFileName, ConfigLoader, NewConfigLoader
  - **Details**: `go-arch-lint -format=package internal/infra`


## Agent Guidance

To get detailed information about specific packages:

**Per-package details**:
- Each package above has a **Details** command to get full information
- Example: `go-arch-lint -format=package pkg/linter`
- Shows: full API, dependencies, exported types/functions for that package

**Project-wide information**:
- Public API for all packages: `./go-arch-lint -format=api .`
- Dependency graph: `./go-arch-lint -format=markdown .`
- Method-level dependencies: `./go-arch-lint -detailed -format=markdown .`
- Check violations: `./go-arch-lint .`

**Common workflows**:
- Understanding a package → Find it below, run the Details command
- Adding new feature → Review architectural rules above, check layer constraints
- Checking violations → Run `./go-arch-lint .` to see current issues with guidance

## Statistics

- **Total Files**: 110
- **Total Packages**: 15
- **Violations**: 0
- **External Dependencies**: 31

---

*Use the package-specific Details commands above to get comprehensive information about each package.*
*Run `./go-arch-lint docs` to regenerate this index.*
